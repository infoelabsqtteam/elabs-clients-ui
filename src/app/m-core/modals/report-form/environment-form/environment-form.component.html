<!-- <mdb-icon far icon="arrow-alt-circle-down" class="cusPosition" (click)="convetToPDF()"></mdb-icon> -->

  <div id="contentToConvert">
    <div class="row bg-cerulean pt-2" id="head">
        <div class="col-lg-2">
            <img src="assets/img/template_logo-new.png" width="70%">
        </div>
        <div class="col-lg-7 d-flex flex-wrap align-content-center justify-content-center">
          
          <div class="row">
            <h1 class="white-text" style="font-size: 36px;"><b>Interstellar Testing Centre Pvt. Ltd.</b></h1>
          </div>
            
        </div>
      
        <div class="col-lg-3 my-auto d-inline-flex d-flex justify-content-center">
          <h4 class="px-2 white-text">Document QF : 2501</h4>
        </div>
        
      </div>
  <div class="row">
    <div class="col-lg-2"></div>
    <div class="col-lg-7 text-center">
        <h1><u>TEST REPORT</u></h1>
    </div>
  </div>

<form [formGroup]="reportForm">
    
    <div class="row px-3 mt-4"> 
        <div class="col-lg-12 border border-bottom-0"> 
  
          <div class="row border-bottom"> 
              <div class="col-lg-6 border-right">
                  <p class="my-auto b">Issued To :</p>
                  <div class="form-group my-auto">
                      <textarea class="form-control fontSize" id="example-textarea" rows="5" formControlName="issued_to" [ngClass]="editable == true ? '' : 'custom-input input-disabled'" [attr.disabled]="!editable ? '' : null"></textarea>
                    <!-- <input type="text" class="form-control form-control-sm" formControlName="issued_to" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null"> -->
                  </div>
              </div>
              <div class="col-lg-6">
                  <div class="row">
                      <div class="col-lg-12 d-flex">
                          <p class="my-auto b">Sample Reg. No. :</p>
                          <div class="form-group my-auto">
                              <input type="text" class="form-control form-control-sm" formControlName="reg_no" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                          </div>
                      </div>  
                      <div class="col-lg-12 d-flex">
                          <p class="my-auto b">Sample Reg. Date :</p>
                          <div class="form-group my-auto">
                              <input type="text" class="form-control form-control-sm" formControlName="reg_date" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                          </div>
                      </div> 
                      <div class="col-lg-12 d-flex">
                          <p class="my-auto b">Report Date  :</p>
                          <div class="form-group my-auto">
                              <input type="text" class="form-control form-control-sm" formControlName="report_date" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                          </div>
                      </div> 
                      <div class="col-lg-12 d-flex">
                          <p class="my-auto b">Report No. :</p>
                          <div class="form-group my-auto">
                              <input type="text" class="form-control form-control-sm" formControlName="report_no" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                          </div>
                      </div> 
                      <div class="col-lg-12 d-flex">
                        <p class="my-auto b">NABL ULR No. :</p>
                        <div class="form-group my-auto">
                            <input type="text" class="form-control form-control-sm" formControlName="nabl_ulr_no" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                        </div>
                    </div>
                      <div class="col-lg-12 d-flex">
                          <p class="my-auto b">Customer Ref. No. :</p>
                          <div class="form-group my-auto">
                              <input type="text" class="form-control form-control-sm" formControlName="customer_ref_no" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                          </div>
                      </div> 
                      <div class="col-lg-12 d-flex">
                          <p class="my-auto b">Letter Dated :</p>
                          <div class="form-group my-auto">
                              <input type="text" class="form-control form-control-sm" formControlName="letter_dated" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                          </div>
                      </div> 
                  </div>
              </div>
          </div>
  
        </div>
      </div>

      <div class="row px-3 mt-4"> 
        <div class="col-lg-12 border border-bottom-0"> 

            <div class="row border-bottom">
                <div class="col-lg-6">
                    <p class="my-auto py-2 b">Test Report as per</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="test_report_per" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2 b">General Information</p>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">Name of the emission source monitored</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="emission_source" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>     
            
            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">(a) Rated Capacity</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="capacity" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">(b) Capacity on sampling day</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="sampling_capacity" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">(c) Type of fuel used & its consumption</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="fuel_type" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">(d) Normal operating schedule</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="operating_schedule" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">2. Stack Identification</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="stack_identification" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">3.Type of Stack/Duct</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="type_of_stack" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">4.Stack Height from Ground Level(m)</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="ground_level" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">Diameter of the Stack(cm)</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="diameter" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">(6) Sampling Duration(minutes)</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="duration" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">Purpose of Monitoring</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="purpose" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">(8) Air Pollution control measure</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="pollution_measure" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">(a) Status</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="status" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">(b) Recovery of Material</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="recovery" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">(9) Fugitive Emission,if any</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="fugitive_emission" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2 b">Observations</p>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">Flue Gas Temperature, °C,Avg.</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="gas_temp" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">Flue Gas Velocity(m/s),Avg.</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="gas_velocity" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">Volumetric Flow Rate(Nm3/hr.)</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="flow_rate" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6">
                    <p class="my-auto py-2">Ambient Air Temperature, °C</p>
                </div>
                <div class="col-lg-6">
                    <div class="form-group my-auto">
                        <input type="text" class="form-control form-control-sm" formControlName="air_temp" [ngClass]="editable == true ? '' : 'custom-input'" [attr.disabled]="!editable ? '' : null">
                    </div>
                </div>
            </div>

            

        </div>
      </div>
      <div class="mt-2" data-html2canvas-ignore="true">
        <button *ngIf="editable == false" mdbBtn type="button" size="sm" class="bg-cerulean text-white" mdbWavesEffect (click)="updates()">Update</button>
        <button *ngIf="editable == true" mdbBtn type="button" size="sm" class="bg-cerulean text-white" mdbWavesEffect (click)="save()">Update</button>
      </div>
      
    <div class="row px-3 mt-4">
        <div class="col-lg-12 border border-bottom-0">
  
            <div class="row  border-bottom">
                <div class="col-lg-12 bg-cerulean white-text">
                    <p class="my-auto py-3 b">TEST RESULTS</p>
                </div>
            </div>
  
          
  
          <div class="row  border-bottom b">
            <div class="col-lg-1 border-right text-center">
              <p class="my-auto py-2">S.No.</p>
            </div>
            <div class="col-lg-3 border-right">
              <p class="my-auto py-2">Test Parameter</p>
            </div>
            <div class="col-lg-2 border-right">
              <p class="my-auto py-2">Inst. Used</p>
            </div>
            <div class="col-lg-2 border-right">
              <p class="my-auto py-2">Method</p>
            </div>
            <div class="col-lg-2 border-right">
              <p class="my-auto py-2">Requirement</p>
            </div>
            <div class="col-lg-2 border-right">
              <p class="my-auto py-2">Result</p>
            </div>
          </div>
  
          <div class="row  border-bottom">
            <div class="col-lg-12">
                <p class="my-auto py-2 b">Test Details :</p>
            </div>
          </div>
  
          <div class="row  border-bottom" *ngFor="let prm of listOfData.param_category; let i=index">
            <div class="col-lg-12  border-bottom">
              <div class="row bg1">
                  <div class="col-lg-1 border-right text-center">
                      <p class="my-auto py-2">{{i+1}}.</p>
                  </div>
                  <div class="col-lg-11">
                      <p class="my-auto py-2 b">{{prm.name}}</p>
                  </div>
              </div>
            </div>
            <div class="col-lg-12">
                <div class="row border-bottom" *ngFor="let item of prm.parameter; let j=index">
                  <div class="col-lg-1 border-right text-center">
                    <p class="my-auto py-2">{{letterFromNumber(j)}}.</p>
                  </div>
                  <div class="col-lg-3 border-right">
                    <p class="my-auto py-2">{{item.name}}</p>
                  </div>
                  <div class="col-lg-2 border-right">
                    <p class="my-auto py-2">{{item.equipment}}</p>
                  </div>
                  <div class="col-lg-2 border-right">
                    <p class="my-auto py-2">{{item.method}}</p>
                  </div>
                  <div class="col-lg-2 border-right">
                    <p class="my-auto py-2">{{item.requirment}}</p>
                  </div>
                  <div class="col-lg-2 border-right">
                    <p class="my-auto py-2">{{item.result}}</p>
                  </div>
                </div>
            </div>
          </div>
  
        </div>
    </div>

</form>
</div>