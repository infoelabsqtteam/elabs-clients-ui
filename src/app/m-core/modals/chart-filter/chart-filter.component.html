<div mdbModal #basicModal="mdbModal" class="modal fade">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header justify-content-center mb-0"
          *ngIf="dashboardItem && dashboardItem.fields && dashboardItem.fields.length >0">
          <h3 class="modal-title m-0 text-uppercase active d-block">{{dashboardItem.name}}</h3>
          <a class="h5 m-0 closebtb" (click)="close(dashboardItem)">Ã—</a>
        </div>
        <div class="modal-body pt-2">
          <div class="chartfilter mb-3" [formGroup]="dashboardFilter" *ngIf="dashboardItem && dashboardItem.fields && dashboardItem.fields.length >0">
            <div class="row align-items-center" [formGroupName]="dashboardItem.name">
              <div class="col-sm-4 " *ngFor="let field of dashboardItem.fields; let i = index" [id]="field._id">
                <div *ngIf="field.type == 'date'">
                  <mat-form-field appearance="outline" class="w-100 m-0">
                    <mat-label>{{ field.label | titlecase}}</mat-label>
                    <input matInput [matDatepicker]="picker2" [min]="field.minDate" [max]="field.maxDate" [required]="field.is_mandatory" [formControlName]="field.field_name" [id]="field._id+'_'+field.field_name" disableOptionCentering panelClass="filteroption">
                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker #picker2 color="primary"></mat-datepicker>
                  </mat-form-field>
                </div>
                <div *ngIf="field.type == 'daterange'">
                  <mat-form-field appearance="outline" class="w-100 m-0">
                    <mat-label>{{field.label}}</mat-label>
                    <mat-date-range-input [formGroupName]="field.field_name" [rangePicker]="picker"
                      [id]="field._id+'_'+field.field_name">
                      <input matStartDate formControlName="start" placeholder="Start date">
                      <input matEndDate formControlName="end" placeholder="End date">
                    </mat-date-range-input>
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-date-range-picker #picker></mat-date-range-picker>
                  </mat-form-field>
                </div>
                <div *ngIf="field.type == 'dropdown'">
                  <mat-form-field appearance="outline" class="w-100 m-0" *ngIf="field.datatype == 'object'">
                    <mat-label>{{ field.label | titlecase}}</mat-label>
                    <mat-select *ngIf="!field.multi_select" [compareWith]="compareObjects"
                      [formControlName]="field.field_name" disableOptionCentering panelClass="filteroption">
                      <mat-option *ngFor="let staticValue of staticData[field.ddn_field]" [value]="staticValue._id">
                        {{getddnDisplayVal(staticValue)}}</mat-option>
                    </mat-select>
  
  
                    <mat-select *ngIf="field.multi_select" [compareWith]="compareObjects"
                      [formControlName]="field.field_name" disableOptionCentering panelClass="filteroption" multiple>
                      <mat-option *ngFor="let staticValue of staticData[field.ddn_field]" [value]="staticValue._id">
                        {{getddnDisplayVal(staticValue)}}
                      </mat-option>
                    </mat-select>
  
  
                  </mat-form-field>
  
  
  
                  <mat-form-field appearance="outline" class="w-100 m-0"
                    *ngIf="field.datatype != 'object' && field.datatype != 'key_value'">
                    <mat-label>{{ field.label | titlecase}}</mat-label>
                    <mat-select [formControlName]="field.field_name" disableOptionCentering panelClass="filteroption">
                      <mat-option *ngFor="let staticValue of staticData[field.ddn_field]" [value]="staticValue._id">
                        {{getddnDisplayVal(staticValue)}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                  <mat-form-field appearance="outline" class="w-100 m-0" *ngIf="field.datatype == 'key_value'">
                    <mat-label>{{ field.label | titlecase}}<span *ngIf="field.is_mandatory"
                        class="mat-placeholder-required mat-form-field-required-marker ng-tns-c16-1 ng-star-inserted">
                        *</span></mat-label>
                    <mat-select [formControlName]="field.field_name" disableOptionCentering panelClass="filteroption">
                      <mat-option *ngFor="let staticValue of staticData[field.ddn_field]" [value]="staticValue._id">
                        {{getddnDisplayVal(staticValue)}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <div class="col-sm-3">
                  <button mat-flat-button class="filterbtn" (click)="dashletFilter(dashboardItem)">Filter</button>
                  <button mat-flat-button class="filterbtn ml-2" (click)="reset(dashboardItem)">Reset Filter</button>
                </div>
            </div>
          </div>
  
          <div *ngIf="dashboardItem && dashboardItem.fields && dashboardItem.fields.length >0">
            <ng-container class="px-5">
              <canvas class="w-100 vh-100" mdbChart *ngIf="dashboardItem.package_name == 'chart_js'"
                [chartType]="chartType[dashboardItem.call_back_field]"
                [datasets]="chartDatasets[dashboardItem.call_back_field]"
                [labels]="chartLabels[dashboardItem.call_back_field]"
                [colors]="chartColors[dashboardItem.call_back_field]"
                [options]="chartOptions[dashboardItem.call_back_field]"
                [legend]="chartLegend[dashboardItem.call_back_field]" (chartHover)="chartHover($event)"
                (chartClick)="chartClicked($event)">
              </canvas>
              <google-chart class="w-100 vh-100" *ngIf="dashboardItem.package_name == 'google_chart' && chartTitle[dashboardItem.call_back_field]"
                [title]="chartTitle[dashboardItem.call_back_field]" [type]="chartType[dashboardItem.call_back_field]"
                [data]="chartDatasets[dashboardItem.call_back_field]"
                [columns]="chartLabels[dashboardItem.call_back_field]"
                [options]="chartOptions[dashboardItem.call_back_field]">
              </google-chart>
            </ng-container>
          </div>
  
        </div>
      </div>
    </div>
  </div>