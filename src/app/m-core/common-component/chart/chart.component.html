<div class="row mb-3">
  <div class="col-sm-4">
    <mat-form-field appearance="outline" class="w-100">
      <mat-label class="filterlabel">Chart List</mat-label>
      <mat-select [(ngModel)]="filterValue" (selectionChange)="filterchart()" multiple disableOptionCentering
        panelClass="chartfilteroption">
        <mat-option *ngFor="let staticValue of elements" [value]="staticValue._id">{{staticValue.name}}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
</div>

<div class="row" *ngIf="filteredDashboardData.length >0">
  <div class="col-lg-4" *ngFor="let item of filteredDashboardData | paginate: { id: 'server', itemsPerPage: itemNumOfGrid, currentPage: pageNumber, totalItems: total }; let j = index">
    <div class="card">
      <div class="card-header py-0 pr-2">
        <div class="d-flex align-items-center justify-content-between" *ngIf="item.fields && item.fields.length >0">
          <h3 class="m-0 charttitle">{{item.name}}</h3>
          <button mat-icon-button (click)="showModal(item)"><mat-icon style="font-size:15px;opacity:0.7;">filter_alt</mat-icon></button>
        </div>
      </div>
      <div class="card-body chartbody p-0">
        <ng-container *ngIf="chartType[item.call_back_field]">
          <canvas mdbChart *ngIf="item.package_name == 'chart_js'" [chartType]="chartType[item.call_back_field]"
            [datasets]="chartDatasets[item.call_back_field]" [labels]="chartLabels[item.call_back_field]"
            [colors]="chartColors[item.call_back_field]" [options]="chartOptions[item.call_back_field]"
            [legend]="chartLegend[item.call_back_field]" (chartHover)="chartHover($event)"
            (chartClick)="chartClicked($event)">
          </canvas>
          <google-chart *ngIf="item.package_name == 'google_chart' && chartTitle[item.call_back_field]"
            [title]="chartTitle[item.call_back_field]" [type]="chartType[item.call_back_field]"
            [data]="chartDatasets[item.call_back_field]" [columns]="chartLabels[item.call_back_field]"
            [options]="chartOptions[item.call_back_field]">
          </google-chart>
        </ng-container>
        <div *ngIf="!chartType[item.call_back_field]" class="spinner">
          <mat-spinner diameter="40"  class="custom-spinner"></mat-spinner>
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="elements.length == 0"><p class="text-center"><span>Dashlet Master not available in this application.</span></p></div>

<app-chart-filter id="chart-filter"></app-chart-filter>

<section>
  <mat-card-content class="m-0 pt-4 text-center">
      <pagination-controls (pageChange)="getPage($event)" id="server"></pagination-controls>
  </mat-card-content>
</section>